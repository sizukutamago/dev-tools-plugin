# claude-collab

2つの Claude Code インスタンスが tmux 経由で自律的に議論するスキル。

## アーキテクチャ

```
                 ┌──────────────────────┐
                 │  メイン Claude Code   │
                 │  (中立オーケストレーター) │
                 └──────────┬───────────┘
                            │
           ┌────────────────┼────────────────┐
           ▼                ▼                ▼
  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐
  │  claude -p   │ │  claude -p   │ │  claude -p   │
  │  (Role A)    │ │  (Role B)    │ │  (Judge)     │
  └──────────────┘ └──────────────┘ └──────────────┘
```

## ユースケース

- **設計判断**: 技術選定、アーキテクチャパターンの比較
- **コードレビュー**: 既存コードの改善方針を多角的に検討
- **デバッグ**: バグの原因仮説を複数立てて検証
- **ブレインストーミング**: アイデアの利点と欠点を構造的に分析

## クイックスタート

```bash
# tmux セッション内で実行
/claude-collab "認証方式として JWT vs セッションベース"
```

## 10種のプリセットロール

| プリセット | 対立軸 |
|-----------|--------|
| advocate-vs-devils-advocate | 賛成 vs 反対（デフォルト） |
| security-vs-performance | セキュリティ vs パフォーマンス |
| security-vs-delivery | セキュリティ vs デリバリー速度 |
| pragmatist-vs-purist | 実用主義 vs 理想主義 |
| frontend-vs-backend | フロントエンド vs バックエンド |
| maintainer-vs-innovator | 保守 vs 革新 |
| user-vs-developer | ユーザー vs 開発者 |
| simplicity-vs-scalability | シンプルさ vs スケーラビリティ |
| cost-vs-reliability | コスト vs 信頼性 |
| product-vs-tech-debt | プロダクト価値 vs 技術的負債 |

## 特徴

- **論点台帳管理**: 構造化された論点追跡で議論の焦点を維持
- **自動収束検出**: 定量シグナルで早期終了・堂々巡り検出
- **中立 Judge**: 別の claude -p で偏りのない最終要約を生成
- **1000文字/ラウンド制限**: トークン消費を抑制し議論を焦点化
